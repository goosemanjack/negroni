#summary Rendering a gadget with the RenderInlineControl or writing to a response stream.

<wiki:toc max_depth="3" />


= Introduction =

One of the major uses of Negroni is to dynamically execute and render content in the form of gadgets.  These may be OpenSocial gadgets conforming to the GadgetXML specification, or they may be gadgets built to utilize your custom parser.

A capability Negroni adds that is not available by working with user controls is to dynamically render gadgets supplied from external sources.  This allows your site to aggregate and render content from multiple vendors on the server-side.

= Rendering on a Page =

The simplest way to render gadgets is by dropping the *`RenderInlineControl`* onto the page surface and letting the standard ASPX page engine trigger rendering.  `RenderInlineControl` is supplied in the baseline Negroni package.  The markup to render can be directly authored inside the control, specified as a link to an external URI with the *`Src`* attribute, or set in code by assigning to the *`MarkupContent`* property.

== Adding the `RenderInlineControl` to a Page ==

`RenderInlineControl` is implemented as a standard `WebControl`.  To make it available for use you must register the Negroni assembly with the page.  Then you can add it to the markup just like any server control.

In the Sample project `WebNoSql` the Default.aspx page has registered and is using the `RenderInlineControl`.  The sample below registers the Negroni assembly with the page with the directive *`<%@Register TagPrefix="neg" Assembly="Negroni" Namespace="Negroni"%>`*.  Then later in the page an instance of the control is added with *`<neg:RenderInlineControl runat="server" ... `*.  The particular example is specifying to render from a source gadget on a different server.

{{{
<%@ Page Title="Home Page" Language="C#" AutoEventWireup="true"
    CodeBehind="Default.aspx.cs" Inherits="WebNoSql._Default" %>
<%@ Register TagPrefix="neg" Assembly="Negroni" Namespace="Negroni"%>

...

<neg:RenderInlineControl runat="server" ID="renderClock"
  ControlParserKey="gadget_v1.0" 
  Src="http://gadgets.presse-papiers.fr/clock/clock.xml" />

}}}

== Rendering Inline Content ==

Static content you with Negroni to render may be directly authored within the control.  In this way you can access data with declarative data controls and render with that data by just using markup!  There is no need to access the code editor.  Changing the data being used is simply a matter of updating the markup - no recompile is required.

The below example is from the Default page of the `WebNoSql` sample application.  In it we see two data tags being used - a static variable with os:Var and our custom list of gadgets constructed by reading the filesystem.  The *`<os:Var>`* tag is used to create a static data object with JSON syntax and registered under the key "foo".  Later it is accessed with a simple EL statement.  The *`<sample:GadgetList>`* tag is our custom data tag.  It returns an array of filenames.  A repeater later iterates over this list to display the results.


{{{
    <neg:RenderInlineControl runat="server" 
     ControlParserKey="sampleWeb" 
    id="gadgetGrid" Width="250" Height="300" >
    <os:Var key="foo">
    {
    "color": "red",
    "number" : 2
    }
    </os:Var>
    <sample:GadgetList key="gadgets" />
    <h1 style="color:${foo.color};">Hello World ${foo.number}</h1>

    <ul>
    <li repeat="${gadgets}">
<a href="Render.aspx?gadget=${Cur}">Render ${Cur}</a></li>
    </ul>
    </neg:RenderInlineControl>
}}}







= Rendering to Stream =

If all you have is a handle to the response stream, gadgets can also render 





